---
title: "Installation"
description: "Complete setup guide for Stringboot Web SDK with A/B testing analytics integration"
---

## Overview

This guide walks you through installing and configuring the Stringboot Web SDK in your web application with **complete A/B testing support**, including required analytics integration and device ID configuration.

### What You'll Set Up

<Steps>
  <Step title="Install Package">
    Add the SDK to your project via npm, yarn, or pnpm
  </Step>
  <Step title="Configure Analytics">
    **REQUIRED**: Set up experiment tracking with your analytics provider
  </Step>
  <Step title="Configure Device ID">
    **REQUIRED**: Set up device identification for A/B testing
  </Step>
  <Step title="Initialize SDK">
    Complete initialization with all required parameters
  </Step>
  <Step title="Verify Setup">
    Test that strings, translations, and experiments work correctly
  </Step>
</Steps>

<Info>
  **SDK Version:** 1.2.0 ‚Ä¢ **Size:** 6.6 kB gzipped ‚Ä¢ **Dependencies:** Zero
</Info>

---

## Step 1: Install the SDK

### NPM

```bash
npm install @stringboot/web-sdk
```

### Yarn

```bash
yarn add @stringboot/web-sdk
```

### PNPM

```bash
pnpm add @stringboot/web-sdk
```

### Verify Installation

```bash
npm list @stringboot/web-sdk
```

You should see:

```
@stringboot/web-sdk@1.2.0
```

---

## Step 2: Configure Analytics (REQUIRED)

<Warning>
  **Analytics integration is REQUIRED** for A/B testing and experiment tracking. The SDK needs to send experiment assignments to your analytics platform for proper tracking and analysis.
</Warning>

### Why Analytics Integration is Required

When a user is assigned to an experiment variant, the SDK must:
1. Track which variant they received
2. Send this data to your analytics platform
3. Allow you to correlate experiment variants with user behavior
4. Enable proper A/B test analysis and decision-making

### Choose Your Analytics Provider

<Tabs>
  <Tab title="Google Analytics 4">
    ### Install Google Analytics 4

    ```bash
    npm install @google-analytics/gtag
    ```

    ### Create Analytics Handler

    ```typescript src/analytics/googleAnalytics.ts
    import type { ExperimentAssignment } from '@stringboot/web-sdk';

    // Initialize Google Analytics
    export function initializeGA4(measurementId: string) {
      // Load gtag.js
      const script = document.createElement('script');
      script.async = true;
      script.src = `https://www.googletagmanager.com/gtag/js?id=${measurementId}`;
      document.head.appendChild(script);

      // Configure gtag
      window.dataLayer = window.dataLayer || [];
      function gtag(...args: any[]) {
        window.dataLayer.push(args);
      }
      gtag('js', new Date());
      gtag('config', measurementId);
    }

    // Analytics handler for Stringboot
    export const googleAnalyticsHandler = (
      experiments: Record<string, ExperimentAssignment>
    ) => {
      Object.entries(experiments).forEach(([key, assignment]) => {
        // Track experiment assignment as custom dimension
        if (window.gtag) {
          window.gtag('event', 'stringboot_experiment_assigned', {
            experiment_key: key,
            variant_id: assignment.variantId,
            variant_name: assignment.variantName,
            experiment_name: assignment.experimentName,
          });

          // Set user property for segmentation
          window.gtag('set', 'user_properties', {
            [`stringboot_exp_${key}`]: assignment.variantName,
          });
        }
      });
    };
    ```

    ### TypeScript Global Types

    Add to `src/types/global.d.ts`:

    ```typescript global.d.ts
    interface Window {
      dataLayer: any[];
      gtag: (...args: any[]) => void;
    }
    ```

    ### Usage in Initialization

    ```typescript main.ts
    import StringBoot from '@stringboot/web-sdk';
    import { initializeGA4, googleAnalyticsHandler } from './analytics/googleAnalytics';

    // Initialize GA4 first
    initializeGA4('G-XXXXXXXXXX');

    // Initialize Stringboot with analytics
    await StringBoot.initialize({
      apiToken: 'YOUR_API_TOKEN',
      baseUrl: 'https://api.stringboot.com',
      defaultLanguage: 'en',
      analyticsHandler: googleAnalyticsHandler,
    });
    ```

    ### View Data in GA4

    1. Go to **Admin** ‚Üí **Custom definitions**
    2. Create custom event parameters:
       - `experiment_key`
       - `variant_id`
       - `variant_name`
       - `experiment_name`
    3. View events in **Reports** ‚Üí **Events** ‚Üí `stringboot_experiment_assigned`
  </Tab>

  <Tab title="Mixpanel">
    ### Install Mixpanel

    ```bash
    npm install mixpanel-browser
    ```

    ### Create Analytics Handler

    ```typescript src/analytics/mixpanel.ts
    import mixpanel from 'mixpanel-browser';
    import type { ExperimentAssignment } from '@stringboot/web-sdk';

    // Initialize Mixpanel
    export function initializeMixpanel(token: string) {
      mixpanel.init(token, {
        debug: process.env.NODE_ENV === 'development',
        track_pageview: true,
        persistence: 'localStorage',
      });
    }

    // Analytics handler for Stringboot
    export const mixpanelAnalyticsHandler = (
      experiments: Record<string, ExperimentAssignment>
    ) => {
      Object.entries(experiments).forEach(([key, assignment]) => {
        // Track experiment assignment event
        mixpanel.track('Stringboot Experiment Assigned', {
          experiment_key: key,
          variant_id: assignment.variantId,
          variant_name: assignment.variantName,
          experiment_name: assignment.experimentName,
        });

        // Register as super property for all future events
        mixpanel.register({
          [`exp_${key}`]: assignment.variantName,
        });

        // Set as user property
        mixpanel.people.set({
          [`Experiment: ${key}`]: assignment.variantName,
        });
      });
    };
    ```

    ### Usage in Initialization

    ```typescript main.ts
    import StringBoot from '@stringboot/web-sdk';
    import { initializeMixpanel, mixpanelAnalyticsHandler } from './analytics/mixpanel';

    // Initialize Mixpanel first
    initializeMixpanel('YOUR_MIXPANEL_TOKEN');

    // Initialize Stringboot with analytics
    await StringBoot.initialize({
      apiToken: 'YOUR_API_TOKEN',
      baseUrl: 'https://api.stringboot.com',
      defaultLanguage: 'en',
      analyticsHandler: mixpanelAnalyticsHandler,
    });
    ```

    ### View Data in Mixpanel

    1. Go to **Insights** ‚Üí **Filter by Event** ‚Üí "Stringboot Experiment Assigned"
    2. View user properties under **Users** ‚Üí select user ‚Üí **Properties**
    3. Use `exp_{key}` super properties in any report for segmentation
  </Tab>

  <Tab title="Amplitude">
    ### Install Amplitude

    ```bash
    npm install @amplitude/analytics-browser
    ```

    ### Create Analytics Handler

    ```typescript src/analytics/amplitude.ts
    import * as amplitude from '@amplitude/analytics-browser';
    import type { ExperimentAssignment } from '@stringboot/web-sdk';

    // Initialize Amplitude
    export function initializeAmplitude(apiKey: string) {
      amplitude.init(apiKey, undefined, {
        defaultTracking: {
          sessions: true,
          pageViews: true,
          formInteractions: true,
          fileDownloads: true,
        },
      });
    }

    // Analytics handler for Stringboot
    export const amplitudeAnalyticsHandler = (
      experiments: Record<string, ExperimentAssignment>
    ) => {
      Object.entries(experiments).forEach(([key, assignment]) => {
        // Track experiment assignment event
        amplitude.track('Stringboot Experiment Assigned', {
          experiment_key: key,
          variant_id: assignment.variantId,
          variant_name: assignment.variantName,
          experiment_name: assignment.experimentName,
        });

        // Set user properties for segmentation
        const identify = new amplitude.Identify();
        identify.set(`exp_${key}`, assignment.variantName);
        amplitude.identify(identify);
      });
    };
    ```

    ### Usage in Initialization

    ```typescript main.ts
    import StringBoot from '@stringboot/web-sdk';
    import { initializeAmplitude, amplitudeAnalyticsHandler } from './analytics/amplitude';

    // Initialize Amplitude first
    initializeAmplitude('YOUR_AMPLITUDE_API_KEY');

    // Initialize Stringboot with analytics
    await StringBoot.initialize({
      apiToken: 'YOUR_API_TOKEN',
      baseUrl: 'https://api.stringboot.com',
      defaultLanguage: 'en',
      analyticsHandler: amplitudeAnalyticsHandler,
    });
    ```

    ### View Data in Amplitude

    1. Go to **Events** ‚Üí Search for "Stringboot Experiment Assigned"
    2. View user properties under **User Look-Up** ‚Üí select user
    3. Use `exp_{key}` properties in **Segmentation** for analysis
  </Tab>

  <Tab title="Custom Analytics">
    ### Custom Analytics Handler

    If you use a different analytics platform or custom solution:

    ```typescript src/analytics/custom.ts
    import type { ExperimentAssignment } from '@stringboot/web-sdk';

    export const customAnalyticsHandler = (
      experiments: Record<string, ExperimentAssignment>
    ) => {
      Object.entries(experiments).forEach(([key, assignment]) => {
        // Send to your analytics backend
        fetch('https://your-analytics-api.com/events', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer YOUR_TOKEN',
          },
          body: JSON.stringify({
            event: 'experiment_assigned',
            properties: {
              experiment_key: key,
              variant_id: assignment.variantId,
              variant_name: assignment.variantName,
              experiment_name: assignment.experimentName,
              timestamp: new Date().toISOString(),
            },
            user_id: getUserId(), // Your user ID
            device_id: getDeviceId(), // Your device ID
          }),
        }).catch(console.error);

        // Or use your existing analytics SDK
        if (window.yourAnalytics) {
          window.yourAnalytics.track('experiment_assigned', {
            experiment_key: key,
            variant_id: assignment.variantId,
            variant_name: assignment.variantName,
            experiment_name: assignment.experimentName,
          });

          // Set user properties
          window.yourAnalytics.setUserProperty(
            `exp_${key}`,
            assignment.variantName
          );
        }
      });
    };

    function getUserId(): string {
      // Return your application's user ID
      return localStorage.getItem('user_id') || 'anonymous';
    }

    function getDeviceId(): string {
      // Return your device ID (same as used in Stringboot)
      return localStorage.getItem('stringboot_device_id') || '';
    }
    ```

    ### TypeScript Types

    ```typescript global.d.ts
    interface Window {
      yourAnalytics?: {
        track: (event: string, properties: Record<string, any>) => void;
        setUserProperty: (key: string, value: string) => void;
      };
    }
    ```

    ### Usage in Initialization

    ```typescript main.ts
    import StringBoot from '@stringboot/web-sdk';
    import { customAnalyticsHandler } from './analytics/custom';

    await StringBoot.initialize({
      apiToken: 'YOUR_API_TOKEN',
      baseUrl: 'https://api.stringboot.com',
      defaultLanguage: 'en',
      analyticsHandler: customAnalyticsHandler,
    });
    ```

    ### Implementation Requirements

    Your analytics handler must:
    - Accept `Record<string, ExperimentAssignment>` parameter
    - Track experiment assignments as events
    - Set user properties for segmentation
    - Handle errors gracefully (don't throw)
    - Be synchronous or handle async internally
  </Tab>
</Tabs>

<Tip>
  **Pro Tip**: Initialize your analytics platform BEFORE initializing Stringboot to ensure experiment assignments are tracked immediately.
</Tip>

---

## Step 3: Configure Device ID (REQUIRED)

<Warning>
  **Device ID is REQUIRED** for A/B testing. The SDK uses the device ID to consistently assign users to experiment variants. Without it, users may see different variants on each session.
</Warning>

### Why Device ID is Required

The device ID ensures:
- **Consistent variant assignment**: Same user always sees the same variant
- **Accurate experiment results**: Prevents users from seeing multiple variants
- **Cross-session tracking**: User gets same experience across sessions
- **Proper analytics correlation**: Links experiment data with user behavior

### Choose Your Device ID Strategy

<Tabs>
  <Tab title="Auto-Generated UUID">
    ### Automatic Device ID (Default)

    The SDK automatically generates and persists a UUID in `localStorage`:

    ```typescript main.ts
    import StringBoot from '@stringboot/web-sdk';

    await StringBoot.initialize({
      apiToken: 'YOUR_API_TOKEN',
      baseUrl: 'https://api.stringboot.com',
      defaultLanguage: 'en',
      analyticsHandler: yourAnalyticsHandler,
      // providedDeviceId: undefined  // Auto-generate (default)
    });

    // Retrieve the generated device ID
    const deviceId = await StringBoot.getDeviceId();
    console.log('Device ID:', deviceId);
    // Output: "550e8400-e29b-41d4-a716-446655440000"
    ```

    ### How It Works

    1. First initialization: SDK generates a UUID v4
    2. UUID is saved to `localStorage` with key `stringboot_device_id`
    3. Subsequent initializations: SDK reads the same UUID from storage
    4. Persists across sessions, page reloads, and browser restarts

    ### Best For

    - Simple applications without existing user authentication
    - MVP or prototyping
    - When you don't need cross-device consistency

    <Note>
      Auto-generated device IDs are **browser-specific**. The same user on different browsers/devices will have different IDs.
    </Note>
  </Tab>

  <Tab title="Google Analytics Client ID">
    ### Use GA4 Client ID

    If you're using Google Analytics 4, use the GA Client ID for consistency:

    ```typescript main.ts
    import StringBoot from '@stringboot/web-sdk';
    import { initializeGA4 } from './analytics/googleAnalytics';

    // Initialize GA4 first
    initializeGA4('G-XXXXXXXXXX');

    // Wait for GA to be ready and get Client ID
    function getGAClientId(): Promise<string> {
      return new Promise((resolve) => {
        if (window.gtag) {
          window.gtag('get', 'G-XXXXXXXXXX', 'client_id', (clientId: string) => {
            resolve(clientId);
          });
        } else {
          // Fallback to auto-generated ID
          resolve('');
        }
      });
    }

    // Get GA Client ID
    const gaClientId = await getGAClientId();

    // Initialize Stringboot with GA Client ID
    await StringBoot.initialize({
      apiToken: 'YOUR_API_TOKEN',
      baseUrl: 'https://api.stringboot.com',
      defaultLanguage: 'en',
      providedDeviceId: gaClientId,
      analyticsHandler: googleAnalyticsHandler,
    });

    console.log('Using GA Client ID:', gaClientId);
    ```

    ### Best For

    - Applications already using Google Analytics
    - When you want to correlate Stringboot experiments with GA data
    - Cross-platform consistency (if GA is on all platforms)

    ### Benefits

    - Same ID used in Stringboot and Google Analytics
    - Easy correlation of experiment data with GA reports
    - Consistent user identification across your analytics stack
  </Tab>

  <Tab title="Custom User ID">
    ### Use Your Application's User ID

    If you have authenticated users, use your own user IDs:

    ```typescript main.ts
    import StringBoot from '@stringboot/web-sdk';
    import { getCurrentUser } from './auth'; // Your auth system

    async function initializeApp() {
      // Get your application's user ID
      const user = await getCurrentUser();
      const deviceId = user?.id || generateAnonymousId();

      await StringBoot.initialize({
        apiToken: 'YOUR_API_TOKEN',
        baseUrl: 'https://api.stringboot.com',
        defaultLanguage: 'en',
        providedDeviceId: deviceId,
        analyticsHandler: yourAnalyticsHandler,
      });

      console.log('Initialized with User ID:', deviceId);
    }

    // Helper: Generate anonymous ID for logged-out users
    function generateAnonymousId(): string {
      let id = localStorage.getItem('anonymous_device_id');
      if (!id) {
        id = `anon_${crypto.randomUUID()}`;
        localStorage.setItem('anonymous_device_id', id);
      }
      return id;
    }

    initializeApp();
    ```

    ### Re-initialize on Login/Logout

    When the user ID changes, re-initialize Stringboot:

    ```typescript auth.ts
    import StringBoot from '@stringboot/web-sdk';

    export async function onUserLogin(userId: string) {
      // Re-initialize with new user ID
      await StringBoot.initialize({
        apiToken: 'YOUR_API_TOKEN',
        baseUrl: 'https://api.stringboot.com',
        defaultLanguage: 'en',
        providedDeviceId: userId,
        analyticsHandler: yourAnalyticsHandler,
      });

      console.log('Re-initialized for user:', userId);
    }

    export async function onUserLogout() {
      // Re-initialize with anonymous ID
      const anonId = generateAnonymousId();
      await StringBoot.initialize({
        apiToken: 'YOUR_API_TOKEN',
        baseUrl: 'https://api.stringboot.com',
        defaultLanguage: 'en',
        providedDeviceId: anonId,
        analyticsHandler: yourAnalyticsHandler,
      });

      console.log('Re-initialized as anonymous:', anonId);
    }
    ```

    ### Best For

    - Applications with user authentication
    - When you need cross-device consistency (same user, same experiments)
    - When you want to track experiments per user, not per device

    ### Benefits

    - Same user sees same variants across all devices
    - Perfect correlation with your existing user analytics
    - Easy to filter experiment data by user segments
  </Tab>
</Tabs>

<Info>
  **Recommendation**: Use auto-generated UUID for simple apps, GA Client ID if using Google Analytics, or custom user ID for authenticated apps with cross-device needs.
</Info>

---

## Step 4: Complete Initialization

Now that you have analytics and device ID configured, let's do the complete initialization.

### Vanilla JavaScript/TypeScript

<Tabs>
  <Tab title="TypeScript">
    ```typescript src/main.ts
    import StringBoot from '@stringboot/web-sdk';
    import type { StringBootConfig } from '@stringboot/web-sdk';
    import { initializeGA4, googleAnalyticsHandler } from './analytics/googleAnalytics';

    async function initializeApp() {
      try {
        // 1. Initialize analytics first
        initializeGA4('G-XXXXXXXXXX');

        // 2. Configure Stringboot
        const config: StringBootConfig = {
          apiToken: import.meta.env.VITE_STRINGBOOT_API_TOKEN,
          baseUrl: 'https://api.stringboot.com',
          defaultLanguage: 'en',
          cacheSize: 1000,
          debug: import.meta.env.DEV,
          // REQUIRED for A/B testing
          analyticsHandler: googleAnalyticsHandler,
          // Optional: Use custom device ID
          // providedDeviceId: await getCustomDeviceId(),
        };

        // 3. Initialize Stringboot
        await StringBoot.initialize(config);

        console.log('‚úÖ Stringboot initialized successfully');
        console.log('Device ID:', await StringBoot.getDeviceId());
        console.log('Current language:', StringBoot.getCurrentLanguage());

      } catch (error) {
        console.error('‚ùå Stringboot initialization failed:', error);
        throw error;
      }
    }

    // Initialize on app load
    initializeApp();
    ```
  </Tab>

  <Tab title="JavaScript">
    ```javascript src/main.js
    import StringBoot from '@stringboot/web-sdk';
    import { initializeGA4, googleAnalyticsHandler } from './analytics/googleAnalytics';

    async function initializeApp() {
      try {
        // 1. Initialize analytics first
        initializeGA4('G-XXXXXXXXXX');

        // 2. Configure Stringboot
        const config = {
          apiToken: import.meta.env.VITE_STRINGBOOT_API_TOKEN,
          baseUrl: 'https://api.stringboot.com',
          defaultLanguage: 'en',
          cacheSize: 1000,
          debug: import.meta.env.DEV,
          // REQUIRED for A/B testing
          analyticsHandler: googleAnalyticsHandler,
        };

        // 3. Initialize Stringboot
        await StringBoot.initialize(config);

        console.log('‚úÖ Stringboot initialized successfully');

      } catch (error) {
        console.error('‚ùå Stringboot initialization failed:', error);
        throw error;
      }
    }

    // Initialize on app load
    initializeApp();
    ```
  </Tab>
</Tabs>

### React

<Tabs>
  <Tab title="React + TypeScript">
    ```tsx src/App.tsx
    import { useEffect } from 'react';
    import { useStringBoot } from '@stringboot/web-sdk/react';
    import { initializeGA4, googleAnalyticsHandler } from './analytics/googleAnalytics';

    function App() {
      // Initialize GA4 before Stringboot
      useEffect(() => {
        initializeGA4('G-XXXXXXXXXX');
      }, []);

      // Initialize Stringboot with analytics
      const { initialized, error } = useStringBoot({
        apiToken: import.meta.env.VITE_STRINGBOOT_API_TOKEN,
        baseUrl: 'https://api.stringboot.com',
        defaultLanguage: 'en',
        cacheSize: 1000,
        debug: import.meta.env.DEV,
        // REQUIRED for A/B testing
        analyticsHandler: googleAnalyticsHandler,
      });

      if (error) {
        return (
          <div className="error">
            <h1>Initialization Error</h1>
            <p>{error}</p>
          </div>
        );
      }

      if (!initialized) {
        return (
          <div className="loading">
            <p>Loading Stringboot...</p>
          </div>
        );
      }

      return <YourApp />;
    }

    export default App;
    ```
  </Tab>

  <Tab title="React + JavaScript">
    ```jsx src/App.jsx
    import { useEffect } from 'react';
    import { useStringBoot } from '@stringboot/web-sdk/react';
    import { initializeGA4, googleAnalyticsHandler } from './analytics/googleAnalytics';

    function App() {
      // Initialize GA4 before Stringboot
      useEffect(() => {
        initializeGA4('G-XXXXXXXXXX');
      }, []);

      // Initialize Stringboot with analytics
      const { initialized, error } = useStringBoot({
        apiToken: import.meta.env.VITE_STRINGBOOT_API_TOKEN,
        baseUrl: 'https://api.stringboot.com',
        defaultLanguage: 'en',
        analyticsHandler: googleAnalyticsHandler,
      });

      if (error) {
        return <div>Error: {error}</div>;
      }

      if (!initialized) {
        return <div>Loading...</div>;
      }

      return <YourApp />;
    }

    export default App;
    ```
  </Tab>
</Tabs>

### Next.js

<Tabs>
  <Tab title="App Router">
    ```tsx app/layout.tsx
    'use client';

    import { useEffect } from 'react';
    import { useStringBoot } from '@stringboot/web-sdk/react';
    import { initializeGA4, googleAnalyticsHandler } from '@/lib/analytics/googleAnalytics';

    export default function RootLayout({
      children,
    }: {
      children: React.ReactNode;
    }) {
      // Initialize GA4
      useEffect(() => {
        initializeGA4(process.env.NEXT_PUBLIC_GA_MEASUREMENT_ID!);
      }, []);

      // Initialize Stringboot
      const { initialized, error } = useStringBoot({
        apiToken: process.env.NEXT_PUBLIC_STRINGBOOT_API_TOKEN!,
        baseUrl: 'https://api.stringboot.com',
        defaultLanguage: 'en',
        analyticsHandler: googleAnalyticsHandler,
      });

      if (error) {
        return <html><body>Error: {error}</body></html>;
      }

      if (!initialized) {
        return <html><body>Loading...</body></html>;
      }

      return (
        <html lang="en">
          <body>{children}</body>
        </html>
      );
    }
    ```
  </Tab>

  <Tab title="Pages Router">
    ```tsx pages/_app.tsx
    import type { AppProps } from 'next/app';
    import { useEffect } from 'react';
    import { useStringBoot } from '@stringboot/web-sdk/react';
    import { initializeGA4, googleAnalyticsHandler } from '@/lib/analytics/googleAnalytics';

    export default function App({ Component, pageProps }: AppProps) {
      // Initialize GA4
      useEffect(() => {
        initializeGA4(process.env.NEXT_PUBLIC_GA_MEASUREMENT_ID!);
      }, []);

      // Initialize Stringboot
      const { initialized, error } = useStringBoot({
        apiToken: process.env.NEXT_PUBLIC_STRINGBOOT_API_TOKEN!,
        baseUrl: 'https://api.stringboot.com',
        defaultLanguage: 'en',
        analyticsHandler: googleAnalyticsHandler,
      });

      if (error) return <div>Error: {error}</div>;
      if (!initialized) return <div>Loading...</div>;

      return <Component {...pageProps} />;
    }
    ```
  </Tab>
</Tabs>

<Warning>
  **Environment Variables**: Never commit API tokens to version control. Use `.env.local` for Next.js or `.env` for Vite/Create React App, and add them to `.gitignore`.
</Warning>

### Environment Variables Setup

<Tabs>
  <Tab title="Vite">
    Create `.env.local`:

    ```bash .env.local
    VITE_STRINGBOOT_API_TOKEN=your_token_here
    VITE_GA_MEASUREMENT_ID=G-XXXXXXXXXX
    VITE_STRINGBOOT_BASE_URL=https://api.stringboot.com
    ```

    Access in code:

    ```typescript
    import.meta.env.VITE_STRINGBOOT_API_TOKEN
    import.meta.env.VITE_GA_MEASUREMENT_ID
    ```
  </Tab>

  <Tab title="Next.js">
    Create `.env.local`:

    ```bash .env.local
    NEXT_PUBLIC_STRINGBOOT_API_TOKEN=your_token_here
    NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
    NEXT_PUBLIC_STRINGBOOT_BASE_URL=https://api.stringboot.com
    ```

    Access in code:

    ```typescript
    process.env.NEXT_PUBLIC_STRINGBOOT_API_TOKEN
    process.env.NEXT_PUBLIC_GA_MEASUREMENT_ID
    ```
  </Tab>

  <Tab title="Create React App">
    Create `.env`:

    ```bash .env
    REACT_APP_STRINGBOOT_API_TOKEN=your_token_here
    REACT_APP_GA_MEASUREMENT_ID=G-XXXXXXXXXX
    REACT_APP_STRINGBOOT_BASE_URL=https://api.stringboot.com
    ```

    Access in code:

    ```typescript
    process.env.REACT_APP_STRINGBOOT_API_TOKEN
    process.env.REACT_APP_GA_MEASUREMENT_ID
    ```
  </Tab>
</Tabs>

---

## Step 5: Verify Installation

### Test Basic String Retrieval

<Tabs>
  <Tab title="Vanilla JS">
    ```javascript
    import StringBoot from '@stringboot/web-sdk';

    async function testStringboot() {
      try {
        // Get a string
        const welcome = await StringBoot.get('welcome_message');
        console.log('‚úÖ String retrieved:', welcome);

        // Get device ID
        const deviceId = await StringBoot.getDeviceId();
        console.log('‚úÖ Device ID:', deviceId);

        // Get current language
        const lang = StringBoot.getCurrentLanguage();
        console.log('‚úÖ Current language:', lang);

        // Get available languages
        const languages = await StringBoot.getActiveLanguages();
        console.log('‚úÖ Available languages:', languages);

      } catch (error) {
        console.error('‚ùå Test failed:', error);
      }
    }

    testStringboot();
    ```
  </Tab>

  <Tab title="React">
    ```tsx TestComponent.tsx
    import { useString, useLanguage, useActiveLanguages } from '@stringboot/web-sdk/react';
    import StringBoot from '@stringboot/web-sdk';

    export function TestComponent() {
      const welcomeText = useString('welcome_message');
      const [language, setLanguage] = useLanguage();
      const { languages, loading } = useActiveLanguages();

      const handleTestDeviceId = async () => {
        const deviceId = await StringBoot.getDeviceId();
        console.log('‚úÖ Device ID:', deviceId);
      };

      return (
        <div>
          <h1>{welcomeText || 'Loading...'}</h1>
          <p>Current Language: {language}</p>

          <button onClick={handleTestDeviceId}>
            Log Device ID
          </button>

          <div>
            <h3>Available Languages:</h3>
            {loading ? (
              <p>Loading...</p>
            ) : (
              <ul>
                {languages.map((lang) => (
                  <li key={lang.code}>
                    {lang.name} ({lang.code})
                    <button onClick={() => setLanguage(lang.code)}>
                      Switch
                    </button>
                  </li>
                ))}
              </ul>
            )}
          </div>
        </div>
      );
    }
    ```
  </Tab>
</Tabs>

### Test Analytics Integration

Create a test experiment in the [Stringboot Dashboard](https://dashboard.stringboot.com):

1. Go to **Experiments** ‚Üí **Create New Experiment**
2. Select a string key
3. Create 2 variants (Control and Variant A)
4. Set to **RUNNING** status
5. Save the experiment

Then verify analytics tracking:

```typescript
import StringBoot from '@stringboot/web-sdk';

async function testExperimentTracking() {
  // Force sync to get latest experiments
  await StringBoot.sync();

  // Get a string that's part of an experiment
  const text = await StringBoot.get('experiment_string_key');
  console.log('‚úÖ Got string:', text);

  // Check your analytics platform (GA4, Mixpanel, Amplitude)
  // You should see event: "stringboot_experiment_assigned"
  // With properties: experiment_key, variant_id, variant_name
}

testExperimentTracking();
```

### Check Browser DevTools

Open browser DevTools (F12) and verify:

1. **Console**: No errors, initialization success messages
2. **Application** ‚Üí **Local Storage**: `stringboot_device_id` exists
3. **Network**: Successful API calls to `https://api.stringboot.com`
4. **Console**: Analytics events logged (if debug mode enabled)

### Verify in Analytics Platform

<Tabs>
  <Tab title="Google Analytics 4">
    1. Go to **Reports** ‚Üí **Realtime**
    2. Look for event: `stringboot_experiment_assigned`
    3. Check event parameters include:
       - `experiment_key`
       - `variant_id`
       - `variant_name`
       - `experiment_name`
  </Tab>

  <Tab title="Mixpanel">
    1. Go to **Activity** (live view)
    2. Look for event: "Stringboot Experiment Assigned"
    3. Verify event properties
    4. Check **Users** ‚Üí select user ‚Üí **Properties** for `exp_{key}`
  </Tab>

  <Tab title="Amplitude">
    1. Go to **User Look-Up**
    2. Find your user (by device ID)
    3. Check **Event Stream** for "Stringboot Experiment Assigned"
    4. Verify **User Properties** include `exp_{key}`
  </Tab>
</Tabs>

---

## Troubleshooting

<AccordionGroup>
  <Accordion title="Initialization fails with 'Analytics handler required'">
    **Cause:** The `analyticsHandler` parameter is missing or undefined.

    **Solution:**

    ```typescript
    // ‚ùå Wrong
    await StringBoot.initialize({
      apiToken: 'token',
      baseUrl: 'https://api.stringboot.com',
      // Missing analyticsHandler
    });

    // ‚úÖ Correct
    await StringBoot.initialize({
      apiToken: 'token',
      baseUrl: 'https://api.stringboot.com',
      analyticsHandler: yourAnalyticsHandler,
    });
    ```
  </Accordion>

  <Accordion title="Analytics events not appearing">
    **Check:**

    1. Analytics platform initialized BEFORE Stringboot
    2. Analytics handler function is called (add console.log)
    3. Event name matches your platform's requirements
    4. No errors in browser console
    5. Analytics SDK loaded correctly (check Network tab)

    **Debug:**

    ```typescript
    const debugAnalyticsHandler = (experiments) => {
      console.log('üîç Analytics handler called with:', experiments);
      // Your actual analytics code here
    };
    ```
  </Accordion>

  <Accordion title="Device ID changes on every session">
    **Cause:** localStorage is being cleared or device ID not persisted.

    **Check:**

    1. Browser not in incognito/private mode
    2. localStorage not being cleared by another script
    3. `providedDeviceId` parameter consistent across sessions

    **Solution:**

    ```typescript
    // Provide a custom device ID that you manage
    const deviceId = localStorage.getItem('my_device_id') ||
                     (() => {
                       const id = crypto.randomUUID();
                       localStorage.setItem('my_device_id', id);
                       return id;
                     })();

    await StringBoot.initialize({
      apiToken: 'token',
      baseUrl: 'https://api.stringboot.com',
      providedDeviceId: deviceId,
      analyticsHandler: yourAnalyticsHandler,
    });
    ```
  </Accordion>

  <Accordion title="Environment variables not loading">
    **Vite:**
    - Use `VITE_` prefix
    - Access via `import.meta.env.VITE_VAR_NAME`
    - Restart dev server after changing `.env.local`

    **Next.js:**
    - Use `NEXT_PUBLIC_` prefix for client-side
    - Access via `process.env.NEXT_PUBLIC_VAR_NAME`
    - Restart dev server after changing `.env.local`

    **Create React App:**
    - Use `REACT_APP_` prefix
    - Access via `process.env.REACT_APP_VAR_NAME`
    - Restart dev server after changing `.env`
  </Accordion>

  <Accordion title="TypeScript errors for ExperimentAssignment type">
    **Solution:** Import the type from the SDK:

    ```typescript
    import type { ExperimentAssignment } from '@stringboot/web-sdk';

    const analyticsHandler = (
      experiments: Record<string, ExperimentAssignment>
    ) => {
      // Your code
    };
    ```
  </Accordion>

  <Accordion title="React hooks not updating when language changes">
    **Cause:** Hook not subscribed to language changes.

    **Solution:** Use `useLanguage` hook or `useString` which auto-updates:

    ```tsx
    // ‚ùå Wrong - doesn't update
    const [text, setText] = useState('');
    useEffect(() => {
      StringBoot.get('key').then(setText);
    }, []);

    // ‚úÖ Correct - auto-updates
    const text = useString('key');
    ```
  </Accordion>
</AccordionGroup>

---

## Next Steps

Now that you have Stringboot fully installed with analytics and device ID configured, explore the three core features:

<CardGroup cols={3}>
  <Card title="Dynamic Strings" icon="font" href="/web-sdk/dynamic-strings">
    Update app text without releases
  </Card>
  <Card title="Translations" icon="language" href="/web-sdk/translations">
    Multi-language support and switching
  </Card>
  <Card title="A/B Testing" icon="flask" href="/web-sdk/ab-testing">
    Optimize messaging with experiments
  </Card>
</CardGroup>

### Additional Resources

<CardGroup cols={2}>
  <Card title="React Hooks Guide" icon="react" href="/web-sdk/react-hooks">
    Complete reference for all 7 React hooks
  </Card>
  <Card title="Next.js Integration" icon="window" href="/web-sdk/nextjs">
    SSR, App Router, and API routes setup
  </Card>
  <Card title="Best Practices" icon="star" href="/web-sdk/best-practices">
    Production patterns and optimization
  </Card>
  <Card title="Dashboard: Create Experiments" icon="flask" href="/dashboard-guides/experiments">
    How to create A/B tests in the dashboard
  </Card>
</CardGroup>

---

## Configuration Reference

### Complete StringBootConfig Interface

```typescript
interface StringBootConfig {
  // REQUIRED: Your Stringboot API token
  apiToken: string;

  // Optional: API base URL (default: https://api.stringboot.com)
  baseUrl?: string;

  // Optional: Default language code (default: 'en')
  defaultLanguage?: string;

  // Optional: Memory cache size (default: 1000)
  cacheSize?: number;

  // Optional: Enable debug logging (default: false)
  debug?: boolean;

  // REQUIRED for A/B testing: Analytics handler function
  analyticsHandler?: (experiments: Record<string, ExperimentAssignment>) => void;

  // REQUIRED for A/B testing: Device ID for consistent variant assignment
  // If not provided, SDK auto-generates and persists a UUID
  providedDeviceId?: string;
}
```

### ExperimentAssignment Interface

```typescript
interface ExperimentAssignment {
  // Unique identifier for the experiment
  experimentId: string;

  // Display name of the experiment
  experimentName: string;

  // Unique identifier for the assigned variant
  variantId: string;

  // Display name of the variant (e.g., "Control", "Variant A")
  variantName: string;

  // The string value for this variant
  value: string;
}
```

---

## Support

<CardGroup cols={2}>
  <Card title="Troubleshooting Guide" icon="wrench" href="/advanced/troubleshooting">
    Common issues and solutions
  </Card>
  <Card title="Email Support" icon="envelope" href="mailto:developer@stringboot.com">
    Contact: developer@stringboot.com
  </Card>
  <Card title="NPM Package" icon="npm" href="https://www.npmjs.com/package/@stringboot/web-sdk">
    View package on npm
  </Card>
  <Card title="Core Concepts" icon="book" href="/core-concepts">
    Understand caching and offline behavior
  </Card>
</CardGroup>
